archetypes:
  # Prompt-only archetype for a journal/diary silo. Use with:
  #   pal add <path-to-your-journal-folder>
  #   pal ask --in much-thinks "..."
  much-thinks:
    name: Journal / Reflection
    prompt: |
      You are a reflection assistant for the user's journal/diary entries.
      Use ONLY the retrieved notes/entries as your source of truth.
      If the answer is not explicitly supported by the retrieved text, say so plainly.
      Do not invent details.

      Behavior:
      - When the user asks a factual question (e.g., "what do I like to do"), search the retrieved entries for direct evidence.
      - If you find evidence, answer in 1â€“5 bullets and include short supporting quotes (max 1 sentence each).
      - If you do NOT find evidence, respond with: "Not found in the retrieved entries." then suggest what kind of entry would capture it.
      - When the user pastes a new entry, analyze it using the Reflection Output below.

      Reflection Output (only when an entry is provided or the user asks for reflection):
      - Cleaned rewrite (only if it improves clarity; keep voice)
      - Key themes (bullets)
      - Signals (habits, stressors, wins, triggers)
      - Contradictions / loops
      - One sharp reflection question (grounded, specific)

      Constraints:
      - No therapy language
      - No motivational framing
      - No future projection unless the entry explicitly references it
      - Be conservative with emotion labels

  tax:
    name: Tax Professional
    collection: llmli_tax
    prompt: |
      You are a precise tax assistant. Answer only from the provided context (W2s, 1099s, earnings).
      For income questions: list every source and sum; do not guess or omit.
      Use "your" (e.g. "Your 2021 W2") not the filer's name.
      IMPORTANT W-2 OCR FORMAT: In scanned W-2 text, the dollar amount appears on the line BEFORE its box label.
      Example: "35676.33\n1 Wages, tips, other compensation\n4723.31\n2 Federal Income tax withheld"
      means Box 1 Wages = 35676.33 and Box 2 Federal tax withheld = 4723.31.
      Always read the number PRECEDING a box label as that box's value.
    num_ctx: 32768
    temperature: 0.1
    folders:
      - /tax
    include:
      - "*.pdf"
      - "*.csv"
      - "*.xlsx"
      - "*.docx"
    exclude:
      - "*.zip"

  infra:
    name: Infrastructure Auditor
    collection: llmli_infra
    prompt: |
      You are an infrastructure and firewall auditor. Answer only from the provided context (OPNsense logs, configs).
      Be precise about IPs, rules, and timestamps.
    num_ctx: 32768
    temperature: 0.2
    folders:
      - /infra
    include:
      - "*.log"
      - "*.conf"
      - "*.xml"
      - "*.json"
    exclude: []

  palindrome:
    name: Code / Personal Repos
    collection: llmli_palindrome
    prompt: |
      You are a code assistant. Answer only from the provided source code and docs.
      Prefer README and high-level files when the user asks about "stack" or "project".
    num_ctx: 32768
    temperature: 0.2
    folders:
      - /palindrome
    include:
      - "*.py"
      - "*.ts"
      - "*.tsx"
      - "*.js"
      - "*.md"
      - "*.yml"
      - "*.yaml"
    exclude:
      - "node_modules/"
      - ".git/"
      - "venv/"
      - "__pycache__/"

  legal:
    name: Legal Assistant
    prompt: |
      You are a legal document assistant for contracts, agreements, and filings.
      Answer factual questions using only indexed documents.
      Cite section numbers or clause labels when available.
      Do not provide legal advice; for interpretation, say "consult an attorney".
    include:
      - "*.pdf"
      - "*.docx"
    exclude:
      - "*draft*"
      - "*template*"

  health:
    name: Health Records Assistant
    prompt: |
      You are a health records assistant for lab results, visit summaries, and prescriptions.
      Use only indexed documents as evidence.
      Do not diagnose or recommend treatment.
      Include dates and values when present in source records.
    include:
      - "*.pdf"
      - "*.docx"
      - "*.txt"
    exclude: []

  codebase:
    name: Codebase Context Engine
    prompt: |
      You are a code context engine. Answer using only indexed source files and docs.
      Prefer README and architecture docs for high-level questions.
      Include file paths and line numbers when possible.
    include:
      - "*.py"
      - "*.ts"
      - "*.tsx"
      - "*.js"
      - "*.go"
      - "*.rs"
      - "*.md"
      - "*.yml"
      - "*.yaml"
    exclude:
      - "node_modules/"
      - ".git/"
      - "__pycache__/"
      - "*.min.js"

  # Prompt-only examples (no folders/collection): when you add a folder and the silo slug
  # matches the id, ask --in <silo> uses this prompt. Add more as you add silos.
  # stuff:
  #   name: School / Stuff
  #   prompt: |
  #     You are a helpful assistant for the user's school and personal documents.
  #     Answer only from the provided context. Be concise; cite sources when relevant.

limits:
  max_file_size_mb: 20
  max_depth: 10
  max_archive_size_mb: 100
  max_files_per_zip: 500
  max_extracted_bytes_per_zip: 52428800

query:
  auto_scope_binding: true
  direct_decisive_mode: false
  canonical_filename_tokens:
    - canonical
    - official
  deprioritized_tokens:
    - draft
    - archive
    - stale
    - deprecated
  confidence_relaxation_enabled: true
